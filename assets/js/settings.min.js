jQuery(document).ready((function($){var file_frame;$(".fbcolorpicker").hide(),$(".fbcolorpicker").each((function(){$(this).farbtastic($(this).closest(".color-picker").find(".color"))})),$(".color").click((function(){$(this).closest(".color-picker").find(".fbcolorpicker").fadeIn()})),$(document).mousedown((function(){$(".fbcolorpicker").each((function(){var display;"block"===$(this).css("display")&&$(this).fadeOut()}))})),jQuery.fn.uploadMediaFile=function(button,preview_media){var button_id=button.attr("id"),field_id=button_id.replace("_button",""),preview_id=button_id.replace("_button","_preview");if(file_frame)file_frame.open();else{var file_frame=wp.media.frames.file_frame=wp.media({title:jQuery(this).data("uploader_title"),button:{text:jQuery(this).data("uploader_button_text")},multiple:!1});file_frame.on("select",(function(){var attachment=file_frame.state().get("selection").first().toJSON();jQuery("#"+field_id).val(attachment.id),preview_media&&jQuery("#"+preview_id).attr("src",attachment.sizes.thumbnail.url),file_frame=!1})),file_frame.open()}},jQuery(".image_upload_button").click((function(){jQuery.fn.uploadMediaFile(jQuery(this),!0)})),jQuery(".image_delete_button").click((function(){return jQuery(this).closest("td").find(".image_data_field").val(""),jQuery(this).closest("td").find(".image_preview").remove(),!1}))}));